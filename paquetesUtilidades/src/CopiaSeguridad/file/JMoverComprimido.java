/* * JMoverComprimido.java * * Created on 19 de septiembre de 2006, 10:37 * * To change this template, choose Tools | Template Manager * and open the template in the editor. */package CopiaSeguridad.file;import java.io.File;import utiles.JDateEdu;public class JMoverComprimido {        /** Creates a new instance of JMoverComprimido */    public JMoverComprimido() {    }    /**     * @param args the command line arguments     */    public static void main(String[] args) {        JDateEdu loDate = new JDateEdu();        try{            java.util.Locale.setDefault(new java.util.Locale("es", "ES"));            if((args[0]==null)||(args[1]==null)) {                System.out.println("Se necesitan dos path");                System.exit(1);            }            JGeneral.inicializar();            JGeneral.print("directorio origen " + args[0]);            JGeneral.print("directorio destino" + args[1]);                                    File loPath = new java.io.File(args[0]);            File loPathDest = new java.io.File(args[1]);            loPathDest.mkdir();            if(!((loPath.isDirectory())&&(loPathDest.isDirectory()) )){                JGeneral.print("Se necesitan dos path y deben existir");                System.exit(1);            }else{                JFicheroDirec loOrigen = new JFicheroDirec();                                JFicheroDirec loDestino = new JFicheroDirec();                                loOrigen.setFichero(loPath);                loDestino.setFichero(loPathDest);                                String lsPatrones = "";                boolean lbCoincide = true;                for(int i = 2; i<args.length; ) {                    lbCoincide = false;                    //ficheros a incluir ejem: *.tif;*.exe                    if(!lbCoincide)                        if((args[i].compareTo("-i") == 0)||(args[i].compareTo("-incluir") == 0 )){                            i++;                            lsPatrones = args[i];                            i++;                            lbCoincide = true;                        }                    if(!lbCoincide && !args[i].equals("")){                        throw new Exception("Opción no valida");                    }                    if(!lbCoincide){                        i++;                    }                                    }                JFicheroFiltroConj loConj = new JFicheroFiltroConj();                loConj.add(loConj.mclAND,new JFicheroFiltro(lsPatrones, true));//                loConj.add(loConj.mclAND,new JFicheroFiltro("*.gz", false));                loOrigen.mover(loDestino, loConj);            }                    }catch(Exception e){            try{                e.printStackTrace();                JGeneral.print(e.toString());            }catch(Exception e2){}        }finally{            try{                JDateEdu loDate2 = new JDateEdu();                JGeneral.print("Tiempo: Intervalo: Desde " + loDate.toString() + " hasta " + loDate2.toString());                JGeneral.print("Tiempo: duración:  Segundos " + Double.toString(loDate.diff(loDate2.mclSegundos, loDate2, loDate)));                JGeneral.finalizar();            }catch(Exception e1){                e1.printStackTrace();            }        }    }    }